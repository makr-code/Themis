
<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Offizielle Dokumentation für ThemisDB (Architektur, Storage, Query/AQL, Sicherheit, APIs und Betrieb)">
      
      
      
        <link rel="canonical" href="https://example.local/themisdb/docs/content_architecture/">
      
      
        <link rel="prev" href="../content_pipeline/">
      
      
        <link rel="next" href="../content/ingestion/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Architektur-Details - ThemisDB Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#content-manager-architektur" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Kopfzeile">
    <a href=".." title="ThemisDB Docs" class="md-header__button md-logo" aria-label="ThemisDB Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ThemisDB Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Architektur-Details
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Suche">
        
        <button type="reset" class="md-search__icon md-icon" title="Zurücksetzen" aria-label="Zurücksetzen" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/makr-code/ThemisDB" title="Zum Repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    makr-code/ThemisDB
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Hauptnavigation" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Übersicht

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../architecture/" class="md-tabs__link">
        
  
  
    
  
  Architektur

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../base_entity/" class="md-tabs__link">
          
  
  
  Basismodell

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../storage/geo_relational_schema/" class="md-tabs__link">
          
  
  
  Storage & MVCC

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../indexes/" class="md-tabs__link">
          
  
  
  Indexe & Statistiken

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../query_engine_aql/" class="md-tabs__link">
          
  
  
  Query & AQL

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../content_pipeline/" class="md-tabs__link">
          
  
  
  Content Pipeline

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../search/hybrid_search_design/" class="md-tabs__link">
          
  
  
  Suche

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../performance_benchmarks/" class="md-tabs__link">
          
  
  
  Performance & Benchmarks

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../quality_assurance/" class="md-tabs__link">
        
  
  
    
  
  Qualitätssicherung

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../vector_ops/" class="md-tabs__link">
          
  
  
  Vektor & GNN

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../security/overview/" class="md-tabs__link">
          
  
  
  Sicherheit & Governance

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../deployment/" class="md-tabs__link">
          
  
  
  Deployment & Betrieb

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../publishing/" class="md-tabs__link">
        
  
  
    
  
  Publikation & Ablage

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../admin_tools_admin_guide/" class="md-tabs__link">
          
  
  
  Admin-Tools

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../apis/openapi/" class="md-tabs__link">
          
  
  
  APIs

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../styleguide/" class="md-tabs__link">
          
  
  
  Styleguide & Glossar

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../roadmap/" class="md-tabs__link">
        
  
  
    
  
  Roadmap

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../print_page/" class="md-tabs__link">
        
  
  
    
  
  Gesamte Dokumentation (Druckansicht)

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ThemisDB Docs" class="md-nav__button md-logo" aria-label="ThemisDB Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ThemisDB Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/makr-code/ThemisDB" title="Zum Repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    makr-code/ThemisDB
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Übersicht
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architektur
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Basismodell
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Basismodell
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base_entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base Entity & Keys
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../path_constraints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pfad-Constraints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../property_graph_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Property Graph Modell
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Storage & MVCC
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Storage & MVCC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/geo_relational_schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage-Layout (Geo/Relational)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/rocksdb_layout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RocksDB Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mvcc_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MVCC-Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transaktionen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../time_series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Time-Series Überblick
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../memory_tuning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Memory Tuning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Indexe & Statistiken
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Indexe & Statistiken
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../indexes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Indexe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../index_stats_maintenance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index-Statistiken & Wartung
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cursor_pagination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cursor/Pagination
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Query & AQL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Query & AQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../query_engine_aql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Query Engine & AQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aql_syntax/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AQL Syntax
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aql_explain_profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Explain & Profile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recursive_path_queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rekursive Pfadabfragen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../temporal_graphs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Temporale Graphen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../temporal_time_range_queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zeitbereichs-Abfragen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../semantic_cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Semantischer Cache
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Content Pipeline
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Content Pipeline
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../content_pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Content Pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Architektur-Details
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Architektur-Details
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-uberblick" class="md-nav__link">
    <span class="md-ellipsis">
      1. Überblick
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Überblick">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-ziele" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Ziele
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-architektur-prinzipien" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Architektur-Prinzipien
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-core-components" class="md-nav__link">
    <span class="md-ellipsis">
      2. Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-contenttyperegistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 ContentTypeRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-icontentprocessor-plugin-interface" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 IContentProcessor (Plugin Interface)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 IContentProcessor (Plugin Interface)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#textprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      TextProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imageprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      ImageProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geoprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      GeoProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cadprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      CADProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audioprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      AudioProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structuredprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      StructuredProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binaryprocessor-fallback" class="md-nav__link">
    <span class="md-ellipsis">
      BinaryProcessor (Fallback)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-contentmanager-orchestrator" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 ContentManager (Orchestrator)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-graph-strukturen" class="md-nav__link">
    <span class="md-ellipsis">
      3. Graph-Strukturen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Graph-Strukturen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-chunk-graph-fur-rag" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Chunk-Graph (für RAG)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-hierarchical-graph-fur-cadarchive" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Hierarchical Graph (für CAD/Archive)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-geo-graph-fur-gis-daten" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Geo-Graph (für GIS-Daten)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-embedding-strategien" class="md-nav__link">
    <span class="md-ellipsis">
      4. Embedding-Strategien
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Embedding-Strategien">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-text-embeddings-sentence-transformers" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Text-Embeddings (Sentence-Transformers)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-image-embeddings-clip" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 Image-Embeddings (CLIP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-cad-embeddings-partnet-custom" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 CAD-Embeddings (PartNet / Custom)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-api-design" class="md-nav__link">
    <span class="md-ellipsis">
      5. API Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. API Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-http-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 HTTP Endpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-erweiterung-neue-datentypen-hinzufugen" class="md-nav__link">
    <span class="md-ellipsis">
      6. Erweiterung: Neue Datentypen hinzufügen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Erweiterung: Neue Datentypen hinzufügen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beispiel-video-processor" class="md-nav__link">
    <span class="md-ellipsis">
      Beispiel: Video-Processor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-performance-uberlegungen" class="md-nav__link">
    <span class="md-ellipsis">
      7. Performance-Überlegungen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Performance-Überlegungen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-blob-storage" class="md-nav__link">
    <span class="md-ellipsis">
      7.1 Blob-Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-embedding-batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      7.2 Embedding-Batch-Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-async-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      7.3 Async-Ingestion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-testing-strategie" class="md-nav__link">
    <span class="md-ellipsis">
      8. Testing-Strategie
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Testing-Strategie">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-unit-tests-pro-processor" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Unit Tests (pro Processor)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-integration-tests" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 Integration Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-performance-benchmarks" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 Performance Benchmarks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-migration-plan" class="md-nav__link">
    <span class="md-ellipsis">
      9. Migration-Plan
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Migration-Plan">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-foundation-woche-1-2" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Foundation (Woche 1-2)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-text-processor-woche-3" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Text-Processor (Woche 3)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-imagegeocad-processors-woche-4-5" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Image/Geo/CAD-Processors (Woche 4-5)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-hybrid-queries-woche-6" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 4: Hybrid-Queries (Woche 6)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-5-production-hardening-woche-7" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 5: Production-Hardening (Woche 7+)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-fazit" class="md-nav__link">
    <span class="md-ellipsis">
      10. Fazit
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../content/ingestion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ingestion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ingestion/json_ingestion_spec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JSON Ingestion Spec
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../content/geo_processor_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Geo-Processor Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../content/image_processor_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Image-Processor Design
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Suche
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Suche
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../search/hybrid_search_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hybrid Search Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../search/pagination_benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pagination Benchmarks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Performance & Benchmarks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Performance & Benchmarks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../performance_benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Überblick & Tuning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compression_benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kompression
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../search/pagination_benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pagination Benchmarks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quality_assurance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Qualitätssicherung
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Vektor & GNN
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Vektor & GNN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vector_ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vektor-Operationen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gnn_embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GNN Embeddings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hnsw_persistence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HNSW Persistenz & Warmstart
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sicherheit & Governance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Sicherheit & Governance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Überblick
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rbac_authorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RBAC & Authorization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/key_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schlüsselverwaltung
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../encryption_strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Verschlüsselungsstrategie
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../encryption_deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Verschlüsselungsdeployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../column_encryption/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spaltenverschlüsselung
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/pii_detection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PII-Detection (Überblick)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pii_detection_engines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PII-Detection Engines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pii_engine_signing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PII Engine Signing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/audit_and_retention/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Audit & Retention
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/threat_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Threat Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security_hardening_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Hardening Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security_audit_checklist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Audit Checklist
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compliance_audit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compliance Audit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compliance_governance_strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Governance-Strategie
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compliance_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compliance-Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../governance_usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Governance Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/security_compliance_review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security/Compliance Review
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deployment & Betrieb
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            Deployment & Betrieb
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tracing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tracing & Observability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../change_data_capture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Change Data Capture (CDC)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations_runbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Operations Runbook
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../publishing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publikation & Ablage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Admin-Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            Admin-Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin_tools_admin_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Admin Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin_tools_user_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin_tools_feature_matrix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Feature Matrix
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin_tools_search_sort_filter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Suche/Sortierung/Filter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin_tools_demo_script/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Demo-Script
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    APIs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            APIs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apis/openapi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenAPI & Endpunkte
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apis/openapi.md#sse-streaming-changefeed" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSE-Streaming (Changefeed)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" >
        
          
          <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Styleguide & Glossar
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_17">
            <span class="md-nav__icon md-icon"></span>
            Styleguide & Glossar
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../styleguide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Styleguide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossar
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Roadmap
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../print_page/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gesamte Dokumentation (Druckansicht)
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-uberblick" class="md-nav__link">
    <span class="md-ellipsis">
      1. Überblick
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Überblick">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-ziele" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Ziele
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-architektur-prinzipien" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Architektur-Prinzipien
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-core-components" class="md-nav__link">
    <span class="md-ellipsis">
      2. Core Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-contenttyperegistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 ContentTypeRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-icontentprocessor-plugin-interface" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 IContentProcessor (Plugin Interface)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 IContentProcessor (Plugin Interface)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#textprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      TextProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imageprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      ImageProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geoprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      GeoProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cadprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      CADProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audioprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      AudioProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structuredprocessor" class="md-nav__link">
    <span class="md-ellipsis">
      StructuredProcessor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binaryprocessor-fallback" class="md-nav__link">
    <span class="md-ellipsis">
      BinaryProcessor (Fallback)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-contentmanager-orchestrator" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 ContentManager (Orchestrator)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-graph-strukturen" class="md-nav__link">
    <span class="md-ellipsis">
      3. Graph-Strukturen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Graph-Strukturen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-chunk-graph-fur-rag" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Chunk-Graph (für RAG)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-hierarchical-graph-fur-cadarchive" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Hierarchical Graph (für CAD/Archive)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-geo-graph-fur-gis-daten" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Geo-Graph (für GIS-Daten)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-embedding-strategien" class="md-nav__link">
    <span class="md-ellipsis">
      4. Embedding-Strategien
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Embedding-Strategien">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-text-embeddings-sentence-transformers" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Text-Embeddings (Sentence-Transformers)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-image-embeddings-clip" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 Image-Embeddings (CLIP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-cad-embeddings-partnet-custom" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 CAD-Embeddings (PartNet / Custom)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-api-design" class="md-nav__link">
    <span class="md-ellipsis">
      5. API Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. API Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-http-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 HTTP Endpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-erweiterung-neue-datentypen-hinzufugen" class="md-nav__link">
    <span class="md-ellipsis">
      6. Erweiterung: Neue Datentypen hinzufügen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Erweiterung: Neue Datentypen hinzufügen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beispiel-video-processor" class="md-nav__link">
    <span class="md-ellipsis">
      Beispiel: Video-Processor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-performance-uberlegungen" class="md-nav__link">
    <span class="md-ellipsis">
      7. Performance-Überlegungen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Performance-Überlegungen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-blob-storage" class="md-nav__link">
    <span class="md-ellipsis">
      7.1 Blob-Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-embedding-batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      7.2 Embedding-Batch-Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-async-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      7.3 Async-Ingestion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-testing-strategie" class="md-nav__link">
    <span class="md-ellipsis">
      8. Testing-Strategie
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Testing-Strategie">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-unit-tests-pro-processor" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Unit Tests (pro Processor)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-integration-tests" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 Integration Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-performance-benchmarks" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 Performance Benchmarks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-migration-plan" class="md-nav__link">
    <span class="md-ellipsis">
      9. Migration-Plan
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Migration-Plan">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-foundation-woche-1-2" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Foundation (Woche 1-2)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-text-processor-woche-3" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Text-Processor (Woche 3)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-imagegeocad-processors-woche-4-5" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Image/Geo/CAD-Processors (Woche 4-5)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-hybrid-queries-woche-6" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 4: Hybrid-Queries (Woche 6)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-5-production-hardening-woche-7" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 5: Production-Hardening (Woche 7+)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-fazit" class="md-nav__link">
    <span class="md-ellipsis">
      10. Fazit
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="content-manager-architektur">Content Manager Architektur<a class="headerlink" href="#content-manager-architektur" title="Permanent link">&para;</a></h1>
<p><strong>Version:</strong> 1.0<br />
<strong>Datum:</strong> 28. Oktober 2025<br />
<strong>Status:</strong> Design Phase</p>
<h2 id="1-uberblick">1. Überblick<a class="headerlink" href="#1-uberblick" title="Permanent link">&para;</a></h2>
<p>Das Content Manager System ist eine <strong>universelle Schicht</strong> für die Verwaltung heterogener Datentypen in THEMIS. Es abstrahiert die Komplexität der Verarbeitung verschiedener Content-Typen (Text, Bilder, Audio, Geo-Daten, CAD-Modelle, etc.) hinter einer einheitlichen API.</p>
<h3 id="11-ziele">1.1 Ziele<a class="headerlink" href="#11-ziele" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Erweiterbarkeit:</strong> Neue Datentypen können über Plugins hinzugefügt werden</li>
<li><strong>Wiederverwendbarkeit:</strong> Gemeinsame Operationen (Hashing, Chunking, Graph-Erstellung) nur einmal implementiert</li>
<li><strong>Typsicherheit:</strong> Klare Trennung zwischen generischen und typspezifischen Operationen</li>
<li><strong>Produktivität:</strong> Entwickler müssen nicht für jeden Datentyp eine vollständige Pipeline implementieren</li>
</ul>
<h3 id="12-architektur-prinzipien">1.2 Architektur-Prinzipien<a class="headerlink" href="#12-architektur-prinzipien" title="Permanent link">&para;</a></h3>
<pre><code>┌─────────────────────────────────────────────────────────────────┐
│                    HTTP API Layer                               │
│  POST /content/upload, GET /content/:id, POST /content/search   │
└────────────────────────────┬────────────────────────────────────┘
                             │
┌────────────────────────────▼────────────────────────────────────┐
│                    ContentManager                               │
│  • Unified ingestion pipeline                                   │
│  • Processor routing by category                                │
│  • Graph construction (parent, next/prev, hierarchical)         │
│  • Deduplication (SHA-256 hash)                                 │
└──────┬────────────┬────────────┬────────────┬────────────┬──────┘
       │            │            │            │            │
┌──────▼────┐  ┌───▼──────┐ ┌──▼──────┐ ┌───▼──────┐ ┌──▼──────┐
│   Text    │  │  Image   │ │   Geo   │ │   CAD    │ │  Audio  │
│ Processor │  │Processor │ │Processor│ │Processor │ │Processor│
└──────┬────┘  └───┬──────┘ └──┬──────┘ └───┬──────┘ └──┬──────┘
       │            │            │            │            │
       │  • extract()  • chunk()  • generateEmbedding()   │
       │                                                   │
┌──────▼───────────────────────────────────────────────────▼──────┐
│                    Storage Layer                                │
│  • RocksDB (metadata + blobs)                                   │
│  • VectorIndex (embeddings)                                     │
│  • GraphIndex (parent, next/prev, assembly hierarchy)           │
│  • SecondaryIndex (tags, mime_type, hash for dedup)             │
└─────────────────────────────────────────────────────────────────┘
</code></pre>
<h2 id="2-core-components">2. Core Components<a class="headerlink" href="#2-core-components" title="Permanent link">&para;</a></h2>
<h3 id="21-contenttyperegistry">2.1 ContentTypeRegistry<a class="headerlink" href="#21-contenttyperegistry" title="Permanent link">&para;</a></h3>
<p><strong>Verantwortlichkeit:</strong> MIME-Type → Category Mapping</p>
<p><strong>Funktionen:</strong>
- MIME-Type-Erkennung (manuelle Angabe, Magic Bytes, Dateiendung)
- Kategorisierung (TEXT, IMAGE, AUDIO, VIDEO, GEO, CAD, STRUCTURED, BINARY)
- Feature Flags (supports_text_extraction, supports_embedding, geospatial, hierarchical)</p>
<p><strong>Beispiel:</strong></p>
<pre><code class="language-cpp">ContentType pdf_type;
pdf_type.mime_type = &quot;application/pdf&quot;;
pdf_type.category = ContentCategory::TEXT;
pdf_type.extensions = {&quot;.pdf&quot;};
pdf_type.supports_text_extraction = true;
pdf_type.supports_chunking = true;
pdf_type.binary_storage_required = true;

ContentTypeRegistry::instance().registerType(pdf_type);
</code></pre>
<p><strong>Default Types (Pre-Registered):</strong></p>
<table>
<thead>
<tr>
<th>Category</th>
<th>MIME Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>TEXT</td>
<td><code>text/plain</code>, <code>text/markdown</code>, <code>text/html</code>, <code>application/json</code>, <code>text/x-python</code></td>
<td>text_extraction, chunking, embedding</td>
</tr>
<tr>
<td>IMAGE</td>
<td><code>image/jpeg</code>, <code>image/png</code>, <code>image/svg+xml</code>, <code>image/tiff</code></td>
<td>metadata_extraction (EXIF), embedding (CLIP)</td>
</tr>
<tr>
<td>AUDIO</td>
<td><code>audio/mpeg</code>, <code>audio/wav</code>, <code>audio/flac</code></td>
<td>metadata_extraction (ID3), temporal</td>
</tr>
<tr>
<td>VIDEO</td>
<td><code>video/mp4</code>, <code>video/webm</code></td>
<td>metadata_extraction, temporal, multimodal</td>
</tr>
<tr>
<td>GEO</td>
<td><code>application/geo+json</code>, <code>application/gpx+xml</code>, <code>image/tiff</code> (GeoTIFF)</td>
<td>geospatial, metadata_extraction</td>
</tr>
<tr>
<td>CAD</td>
<td><code>model/step</code>, <code>model/iges</code>, <code>model/stl</code>, <code>application/dxf</code></td>
<td>hierarchical, metadata_extraction</td>
</tr>
<tr>
<td>STRUCTURED</td>
<td><code>text/csv</code>, <code>application/vnd.apache.parquet</code>, <code>application/vnd.apache.arrow</code></td>
<td>text_extraction, chunking (row-level)</td>
</tr>
<tr>
<td>ARCHIVE</td>
<td><code>application/zip</code>, <code>application/x-tar</code></td>
<td>hierarchical (extract members recursively)</td>
</tr>
<tr>
<td>BINARY</td>
<td>Fallback für unbekannte Typen</td>
<td>binary_storage_required</td>
</tr>
</tbody>
</table>
<h3 id="22-icontentprocessor-plugin-interface">2.2 IContentProcessor (Plugin Interface)<a class="headerlink" href="#22-icontentprocessor-plugin-interface" title="Permanent link">&para;</a></h3>
<p><strong>Verantwortlichkeit:</strong> Typ-spezifische Verarbeitung</p>
<p><strong>Kernmethoden:</strong></p>
<pre><code class="language-cpp">class IContentProcessor {
public:
    // Extrahiere strukturierte Daten aus Blob
    virtual ExtractionResult extract(
        const std::string&amp; blob,
        const ContentType&amp; content_type
    ) = 0;

    // Chunking (z.B. Text → Paragraphen, CAD → Parts, CSV → Rows)
    virtual std::vector&lt;json&gt; chunk(
        const ExtractionResult&amp; extraction_result,
        int chunk_size,
        int overlap
    ) = 0;

    // Embedding-Generierung (z.B. Text → Sentence-BERT, Image → CLIP)
    virtual std::vector&lt;float&gt; generateEmbedding(
        const std::string&amp; chunk_data
    ) = 0;

    virtual std::vector&lt;ContentCategory&gt; getSupportedCategories() const = 0;
};
</code></pre>
<p><strong>Implementierte Processors:</strong></p>
<h4 id="textprocessor">TextProcessor<a class="headerlink" href="#textprocessor" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Extraction:</strong> UTF-8 Normalisierung, Markdown → Plain Text, Code Syntax-Highlighting</li>
<li><strong>Chunking:</strong> Fixed-size (512 Tokens) mit Overlap (50 Tokens), Sentence-Boundary-Preserving</li>
<li><strong>Embedding:</strong> Sentence-Transformers (z.B. <code>all-mpnet-base-v2</code>, 768D)</li>
</ul>
<h4 id="imageprocessor">ImageProcessor<a class="headerlink" href="#imageprocessor" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Extraction:</strong> EXIF Metadata (Camera, GPS, Timestamp), Dimensions, Color Profile</li>
<li><strong>Chunking:</strong> Keine (Bild als ganzes) oder Region-Proposals (für Object Detection)</li>
<li><strong>Embedding:</strong> CLIP (<code>openai/clip-vit-base-patch32</code>, 512D)</li>
</ul>
<h4 id="geoprocessor">GeoProcessor<a class="headerlink" href="#geoprocessor" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Extraction:</strong> GeoJSON → Coordinates, Properties; GPX → Tracks/Waypoints; GeoTIFF → Raster + Projection</li>
<li><strong>Chunking:</strong> Feature-Level (jedes GeoJSON Feature = 1 Chunk)</li>
<li><strong>Embedding:</strong> Geo2Vec (Lat/Lon → Embedding) oder Text-Embedding der Properties</li>
</ul>
<h4 id="cadprocessor">CADProcessor<a class="headerlink" href="#cadprocessor" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Extraction:</strong> STEP → Assembly Hierarchy, Parts, BOM; STL → Mesh Geometry</li>
<li><strong>Chunking:</strong> Part-Level (jedes Part = 1 Chunk)</li>
<li><strong>Embedding:</strong> PartNet (3D Shape → Embedding) oder Property-Text-Embedding</li>
</ul>
<h4 id="audioprocessor">AudioProcessor<a class="headerlink" href="#audioprocessor" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Extraction:</strong> ID3 Tags (Title, Artist, Album), Duration, Bitrate, Codec</li>
<li><strong>Chunking:</strong> Time-based (z.B. 30s Segmente) oder Speech-Transcript-based</li>
<li><strong>Embedding:</strong> Wav2Vec2 (Audio → Embedding) oder Text-Embedding des Transcripts</li>
</ul>
<h4 id="structuredprocessor">StructuredProcessor<a class="headerlink" href="#structuredprocessor" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Extraction:</strong> CSV → Schema + Rows, Parquet → Arrow Table</li>
<li><strong>Chunking:</strong> Row-Level (jede Zeile = 1 Chunk) oder Batch (z.B. 100 Zeilen)</li>
<li><strong>Embedding:</strong> Column-Embeddings (für Schema) + Row-Embeddings (für Data)</li>
</ul>
<h4 id="binaryprocessor-fallback">BinaryProcessor (Fallback)<a class="headerlink" href="#binaryprocessor-fallback" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Extraction:</strong> Nur Metadata (Size, Hash, Magic Bytes)</li>
<li><strong>Chunking:</strong> Keine (gesamter Blob)</li>
<li><strong>Embedding:</strong> Keine (Binary-Daten nicht semantisch suchbar)</li>
</ul>
<h3 id="23-contentmanager-orchestrator">2.3 ContentManager (Orchestrator)<a class="headerlink" href="#23-contentmanager-orchestrator" title="Permanent link">&para;</a></h3>
<p><strong>Verantwortlichkeit:</strong> Unified Ingestion Pipeline</p>
<p><strong>Ingestion Flow:</strong></p>
<pre><code class="language-cpp">IngestionResult ContentManager::ingestContent(
    const std::string&amp; blob,
    const std::optional&lt;std::string&gt;&amp; mime_type,
    const std::string&amp; filename,
    const json&amp; user_metadata,
    const IngestionConfig&amp; config
) {
    // 1. Content-Type Detection
    const ContentType* type = detectContentType(blob, mime_type, filename);

    // 2. Deduplication Check (SHA-256 Hash)
    std::string hash = computeSHA256(blob);
    if (auto existing = checkDuplicateByHash(hash)) {
        return {.ok=true, .content_id=*existing, .message=&quot;Duplicate&quot;};
    }

    // 3. Processor Routing
    auto* processor = getProcessor(type-&gt;category);
    if (!processor) {
        // Fallback to BinaryProcessor
        processor = getProcessor(ContentCategory::BINARY);
    }

    // 4. Extraction
    auto extraction = processor-&gt;extract(blob, *type);
    if (!extraction.ok) {
        return {.ok=false, .message=extraction.error_message};
    }

    // 5. Store Blob (Optional)
    std::string content_id = generateUuid();
    if (config.store_blob) {
        BaseEntity content_entity(&quot;content:&quot; + content_id);
        content_entity.setBlob(blob);
        storage_-&gt;put(&quot;content:&quot; + content_id, content_entity.serialize());
    }

    // 6. Chunking
    std::vector&lt;json&gt; chunks;
    if (config.generate_chunks &amp;&amp; type-&gt;supports_chunking) {
        chunks = processor-&gt;chunk(extraction, config.chunk_size, config.chunk_overlap);
    }

    // 7. Embedding Generation + VectorIndex Insertion
    std::vector&lt;std::string&gt; chunk_ids;
    if (config.generate_embeddings) {
        for (int i = 0; i &lt; chunks.size(); i++) {
            std::string chunk_id = generateUuid();
            chunk_ids.push_back(chunk_id);

            auto embedding = processor-&gt;generateEmbedding(chunks[i][&quot;text&quot;]);

            // Insert into VectorIndex
            BaseEntity chunk_entity(&quot;chunk:&quot; + chunk_id);
            chunk_entity.set(&quot;content_id&quot;, content_id);
            chunk_entity.set(&quot;seq_num&quot;, i);
            chunk_entity.set(&quot;text&quot;, chunks[i][&quot;text&quot;]);
            chunk_entity.set(&quot;embedding&quot;, embedding);

            storage_-&gt;put(&quot;chunk:&quot; + chunk_id, chunk_entity.serialize());
            vector_index_-&gt;addEntity(chunk_entity, embedding);
        }
    }

    // 8. Graph Construction
    if (config.build_graph) {
        createChunkGraph(chunk_ids, content_id, &quot;text_chunk&quot;);
    }

    // 9. Store Metadata
    ContentMeta meta;
    meta.id = content_id;
    meta.mime_type = type-&gt;mime_type;
    meta.category = type-&gt;category;
    meta.original_filename = filename;
    meta.size_bytes = blob.size();
    meta.hash_sha256 = hash;
    meta.chunk_count = chunks.size();
    meta.extracted_metadata = extraction.metadata;
    meta.user_metadata = user_metadata;

    storage_-&gt;put(&quot;meta:&quot; + content_id, meta.toJson().dump());

    return {.ok=true, .content_id=content_id, .chunks_created=(int)chunks.size()};
}
</code></pre>
<h2 id="3-graph-strukturen">3. Graph-Strukturen<a class="headerlink" href="#3-graph-strukturen" title="Permanent link">&para;</a></h2>
<h3 id="31-chunk-graph-fur-rag">3.1 Chunk-Graph (für RAG)<a class="headerlink" href="#31-chunk-graph-fur-rag" title="Permanent link">&para;</a></h3>
<p><strong>Vertex-Typen:</strong>
- <code>content:&lt;uuid&gt;</code>: Content-Item (Document, Image, etc.)
- <code>chunk:&lt;uuid&gt;</code>: Chunk</p>
<p><strong>Edge-Typen:</strong>
- <code>parent</code>: <code>chunk -&gt; content</code> (N:1, jeder Chunk gehört zu genau einem Content-Item)
- <code>next</code>: <code>chunk -&gt; chunk</code> (sequentielle Reihenfolge, z.B. Paragraph 1 → Paragraph 2)
- <code>prev</code>: <code>chunk -&gt; chunk</code> (Rückwärts-Navigation)</p>
<p><strong>Beispiel: Text-Dokument mit 3 Chunks</strong></p>
<pre><code>content:doc123 (Document)
   ├─ chunk:c1 (Paragraph 1) ──next──&gt; chunk:c2 (Paragraph 2) ──next──&gt; chunk:c3 (Paragraph 3)
   │                             ↑                             ↑                             ↑
   └──────────parent──────────────┴──────────parent─────────────┴──────────parent────────────┘
</code></pre>
<p><strong>Query: Vector-Search + Graph-Expansion</strong></p>
<pre><code class="language-aql">-- 1. Vector-Suche: Top-K Chunks
LET top_chunks = VECTOR_KNN('chunks', @query_vec, 10)

-- 2. Graph-Expansion: Lade Kontext (prev/next)
FOR chunk IN top_chunks
  FOR neighbor IN 1..1 ANY chunk GRAPH 'content_graph'
    FILTER neighbor._type == 'chunk'
    RETURN DISTINCT neighbor
</code></pre>
<h3 id="32-hierarchical-graph-fur-cadarchive">3.2 Hierarchical Graph (für CAD/Archive)<a class="headerlink" href="#32-hierarchical-graph-fur-cadarchive" title="Permanent link">&para;</a></h3>
<p><strong>Vertex-Typen:</strong>
- <code>content:assembly</code> (CAD Assembly)
- <code>content:part1</code>, <code>content:part2</code>, ... (CAD Parts)</p>
<p><strong>Edge-Typen:</strong>
- <code>contains</code>: <code>assembly -&gt; part</code> (1:N, Assembly enthält Parts)
- <code>sibling</code>: <code>part -&gt; part</code> (Parts auf gleicher Hierarchie-Ebene)</p>
<p><strong>Beispiel: CAD Assembly</strong></p>
<pre><code>content:assembly (Getriebe)
   ├─── contains ──&gt; content:part1 (Zahnrad A)
   ├─── contains ──&gt; content:part2 (Zahnrad B)
   └─── contains ──&gt; content:part3 (Welle)
</code></pre>
<p><strong>Query: Finde alle Parts eines Assemblies</strong></p>
<pre><code class="language-aql">FOR part IN 1..1 OUTBOUND 'content:assembly' GRAPH 'cad_graph'
  FILTER part._type == 'part'
  RETURN part
</code></pre>
<h3 id="33-geo-graph-fur-gis-daten">3.3 Geo-Graph (für GIS-Daten)<a class="headerlink" href="#33-geo-graph-fur-gis-daten" title="Permanent link">&para;</a></h3>
<p><strong>Vertex-Typen:</strong>
- <code>content:layer</code> (GeoJSON Layer)
- <code>content:feature1</code>, <code>content:feature2</code>, ... (GeoJSON Features)</p>
<p><strong>Edge-Typen:</strong>
- <code>member_of</code>: <code>feature -&gt; layer</code>
- <code>spatially_near</code>: <code>feature -&gt; feature</code> (basierend auf Geohash-Proximity)</p>
<p><strong>Beispiel: GeoJSON Layer mit Features</strong></p>
<pre><code>content:layer (Städte Deutschland)
   ├─── member_of ──&gt; content:feature1 (Berlin)
   ├─── member_of ──&gt; content:feature2 (Hamburg)
   └─── member_of ──&gt; content:feature3 (München)

content:feature1 (Berlin) ──spatially_near──&gt; content:feature4 (Potsdam)
</code></pre>
<h2 id="4-embedding-strategien">4. Embedding-Strategien<a class="headerlink" href="#4-embedding-strategien" title="Permanent link">&para;</a></h2>
<h3 id="41-text-embeddings-sentence-transformers">4.1 Text-Embeddings (Sentence-Transformers)<a class="headerlink" href="#41-text-embeddings-sentence-transformers" title="Permanent link">&para;</a></h3>
<p><strong>Modell:</strong> <code>all-mpnet-base-v2</code> (768D, hohe Qualität)<br />
<strong>Alternative:</strong> <code>all-MiniLM-L6-v2</code> (384D, schneller)</p>
<p><strong>Integration:</strong></p>
<pre><code class="language-cpp">// Externe API (z.B. Python Microservice mit Flask)
std::vector&lt;float&gt; TextProcessor::generateEmbedding(const std::string&amp; text) {
    // HTTP POST to embedding service
    json request = {{&quot;text&quot;, text}};
    auto response = http_client_-&gt;post(&quot;http://localhost:5000/embed&quot;, request);
    return response[&quot;embedding&quot;];
}
</code></pre>
<p><strong>Mock für Tests:</strong></p>
<pre><code class="language-cpp">std::vector&lt;float&gt; TextProcessor::generateEmbedding(const std::string&amp; text) {
    // Simple hash-based mock embedding
    std::vector&lt;float&gt; embedding(768, 0.0f);
    std::hash&lt;std::string&gt; hasher;
    size_t hash = hasher(text);
    for (int i = 0; i &lt; 768; i++) {
        embedding[i] = ((hash &gt;&gt; i) &amp; 1) ? 1.0f : -1.0f;
    }
    return embedding;
}
</code></pre>
<h3 id="42-image-embeddings-clip">4.2 Image-Embeddings (CLIP)<a class="headerlink" href="#42-image-embeddings-clip" title="Permanent link">&para;</a></h3>
<p><strong>Modell:</strong> <code>openai/clip-vit-base-patch32</code> (512D)</p>
<p><strong>Integration:</strong></p>
<pre><code class="language-python"># Embedding Service (Python Flask)
from transformers import CLIPProcessor, CLIPModel
import torch

model = CLIPModel.from_pretrained(&quot;openai/clip-vit-base-patch32&quot;)
processor = CLIPProcessor.from_pretrained(&quot;openai/clip-vit-base-patch32&quot;)

@app.route('/embed/image', methods=['POST'])
def embed_image():
    image_bytes = request.files['image'].read()
    image = Image.open(io.BytesIO(image_bytes))
    inputs = processor(images=image, return_tensors=&quot;pt&quot;)
    with torch.no_grad():
        embedding = model.get_image_features(**inputs)
    return jsonify({'embedding': embedding[0].tolist()})
</code></pre>
<h3 id="43-cad-embeddings-partnet-custom">4.3 CAD-Embeddings (PartNet / Custom)<a class="headerlink" href="#43-cad-embeddings-partnet-custom" title="Permanent link">&para;</a></h3>
<p><strong>Ansatz:</strong> 
- <strong>Option 1:</strong> Render CAD-Part als Bild (Multiple Views), dann CLIP-Embedding
- <strong>Option 2:</strong> Extract Properties (Volume, Surface Area, Material) → Text-Embedding
- <strong>Option 3:</strong> PartNet (3D Shape Encoder, research-basiert)</p>
<p><strong>MVP:</strong> Text-Embedding der BOM/Properties</p>
<pre><code class="language-cpp">std::vector&lt;float&gt; CADProcessor::generateEmbedding(const std::string&amp; chunk_data) {
    // chunk_data = JSON with CAD properties
    json props = json::parse(chunk_data);
    std::string text = &quot;Part: &quot; + props[&quot;name&quot;].get&lt;std::string&gt;() +
                       &quot;, Material: &quot; + props[&quot;material&quot;].get&lt;std::string&gt;() +
                       &quot;, Volume: &quot; + std::to_string(props[&quot;volume&quot;].get&lt;double&gt;());

    // Delegate to TextProcessor
    TextProcessor text_proc;
    return text_proc.generateEmbedding(text);
}
</code></pre>
<h2 id="5-api-design">5. API Design<a class="headerlink" href="#5-api-design" title="Permanent link">&para;</a></h2>
<h3 id="51-http-endpoints">5.1 HTTP Endpoints<a class="headerlink" href="#51-http-endpoints" title="Permanent link">&para;</a></h3>
<p><strong>Upload Content</strong></p>
<pre><code class="language-http">POST /content/upload
Content-Type: multipart/form-data

Form fields:
- file: binary file
- mime_type: (optional) override MIME detection
- metadata: (optional) JSON with user metadata
- tags: (optional) comma-separated tags
- config: (optional) JSON with IngestionConfig

Response:
{
  &quot;ok&quot;: true,
  &quot;content_id&quot;: &quot;uuid-1234&quot;,
  &quot;chunks_created&quot;: 15,
  &quot;message&quot;: &quot;Content ingested successfully&quot;
}
</code></pre>
<p><strong>Get Content Metadata</strong></p>
<pre><code class="language-http">GET /content/:id

Response:
{
  &quot;id&quot;: &quot;uuid-1234&quot;,
  &quot;mime_type&quot;: &quot;application/pdf&quot;,
  &quot;category&quot;: &quot;TEXT&quot;,
  &quot;original_filename&quot;: &quot;report.pdf&quot;,
  &quot;size_bytes&quot;: 1048576,
  &quot;created_at&quot;: 1730120400,
  &quot;chunk_count&quot;: 15,
  &quot;extracted_metadata&quot;: {
    &quot;pages&quot;: 10,
    &quot;author&quot;: &quot;John Doe&quot;
  },
  &quot;user_metadata&quot;: {
    &quot;project&quot;: &quot;Alpha&quot;
  },
  &quot;tags&quot;: [&quot;report&quot;, &quot;2025&quot;]
}
</code></pre>
<p><strong>Download Content Blob</strong></p>
<pre><code class="language-http">GET /content/:id/blob

Response:
Content-Type: application/pdf
Content-Disposition: attachment; filename=&quot;report.pdf&quot;
Content-Length: 1048576

&lt;binary data&gt;
</code></pre>
<p><strong>Search Content</strong></p>
<pre><code class="language-http">POST /content/search
Content-Type: application/json

{
  &quot;query&quot;: &quot;machine learning techniques&quot;,
  &quot;k&quot;: 10,
  &quot;filters&quot;: {
    &quot;category&quot;: &quot;TEXT&quot;,
    &quot;tags&quot;: [&quot;research&quot;]
  },
  &quot;expansion&quot;: {
    &quot;enabled&quot;: true,
    &quot;hops&quot;: 1
  }
}

Response:
{
  &quot;results&quot;: [
    {
      &quot;chunk_id&quot;: &quot;chunk-uuid-1&quot;,
      &quot;content_id&quot;: &quot;uuid-1234&quot;,
      &quot;score&quot;: 0.95,
      &quot;text&quot;: &quot;Machine learning techniques have revolutionized...&quot;,
      &quot;seq_num&quot;: 5,
      &quot;metadata&quot;: {
        &quot;filename&quot;: &quot;ml_paper.pdf&quot;,
        &quot;page&quot;: 3
      }
    },
    ...
  ],
  &quot;total&quot;: 10,
  &quot;query_time_ms&quot;: 45
}
</code></pre>
<p><strong>Get Content Chunks</strong></p>
<pre><code class="language-http">GET /content/:id/chunks

Response:
{
  &quot;chunks&quot;: [
    {
      &quot;id&quot;: &quot;chunk-uuid-1&quot;,
      &quot;seq_num&quot;: 0,
      &quot;text&quot;: &quot;Introduction...&quot;,
      &quot;start_offset&quot;: 0,
      &quot;end_offset&quot;: 512,
      &quot;embedding_indexed&quot;: true
    },
    ...
  ]
}
</code></pre>
<p><strong>Delete Content</strong></p>
<pre><code class="language-http">DELETE /content/:id

Response:
{
  &quot;ok&quot;: true,
  &quot;message&quot;: &quot;Content and 15 chunks deleted&quot;
}
</code></pre>
<h2 id="6-erweiterung-neue-datentypen-hinzufugen">6. Erweiterung: Neue Datentypen hinzufügen<a class="headerlink" href="#6-erweiterung-neue-datentypen-hinzufugen" title="Permanent link">&para;</a></h2>
<h3 id="beispiel-video-processor">Beispiel: Video-Processor<a class="headerlink" href="#beispiel-video-processor" title="Permanent link">&para;</a></h3>
<p><strong>1. Content-Type registrieren</strong></p>
<pre><code class="language-cpp">ContentType video_mp4;
video_mp4.mime_type = &quot;video/mp4&quot;;
video_mp4.category = ContentCategory::VIDEO;
video_mp4.extensions = {&quot;.mp4&quot;, &quot;.m4v&quot;};
video_mp4.supports_text_extraction = false; // (außer mit Speech-to-Text)
video_mp4.supports_chunking = true;         // Time-based chunks
video_mp4.supports_embedding = true;        // Video embeddings (VideoMAE, etc.)
video_mp4.features.temporal = true;
video_mp4.features.multimodal = true;       // Audio + Frames

ContentTypeRegistry::instance().registerType(video_mp4);
</code></pre>
<p><strong>2. VideoProcessor implementieren</strong></p>
<pre><code class="language-cpp">class VideoProcessor : public IContentProcessor {
public:
    ExtractionResult extract(const std::string&amp; blob, const ContentType&amp; type) override {
        ExtractionResult result;

        // Extract metadata with FFmpeg
        result.metadata = extractVideoMetadata(blob);
        result.media_data = MediaData{
            .duration_seconds = result.metadata[&quot;duration&quot;],
            .width = result.metadata[&quot;width&quot;],
            .height = result.metadata[&quot;height&quot;],
            .codec = result.metadata[&quot;codec&quot;]
        };

        result.ok = true;
        return result;
    }

    std::vector&lt;json&gt; chunk(const ExtractionResult&amp; extraction, int chunk_size, int overlap) override {
        // Chunk by time (e.g., 10-second segments)
        int duration = extraction.media_data-&gt;duration_seconds;
        std::vector&lt;json&gt; chunks;

        for (int i = 0; i &lt; duration; i += chunk_size) {
            json chunk = {
                {&quot;type&quot;, &quot;video_segment&quot;},
                {&quot;start_time&quot;, i},
                {&quot;end_time&quot;, std::min(i + chunk_size, duration)},
                {&quot;frame_ref&quot;, &quot;video_frames_&quot; + std::to_string(i)}
            };
            chunks.push_back(chunk);
        }

        return chunks;
    }

    std::vector&lt;float&gt; generateEmbedding(const std::string&amp; chunk_data) override {
        // Extract representative frame, encode with CLIP or VideoMAE
        json chunk = json::parse(chunk_data);
        int start_time = chunk[&quot;start_time&quot;];

        // External call to video embedding service
        return callVideoEmbeddingService(start_time);
    }

    std::vector&lt;ContentCategory&gt; getSupportedCategories() const override {
        return {ContentCategory::VIDEO};
    }
};
</code></pre>
<p><strong>3. Processor registrieren</strong></p>
<pre><code class="language-cpp">content_manager-&gt;registerProcessor(std::make_unique&lt;VideoProcessor&gt;());
</code></pre>
<p><strong>4. Verwenden</strong></p>
<pre><code class="language-cpp">auto result = content_manager-&gt;ingestContent(
    video_blob,
    &quot;video/mp4&quot;,
    &quot;tutorial.mp4&quot;,
    json::object(),
    IngestionConfig{
        .chunk_size = 10,  // 10 seconds per chunk
        .chunk_overlap = 2  // 2 seconds overlap
    }
);
</code></pre>
<h2 id="7-performance-uberlegungen">7. Performance-Überlegungen<a class="headerlink" href="#7-performance-uberlegungen" title="Permanent link">&para;</a></h2>
<h3 id="71-blob-storage">7.1 Blob-Storage<a class="headerlink" href="#71-blob-storage" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Große Dateien (GB-Range) sollten nicht komplett in RocksDB gespeichert werden.</p>
<p><strong>Lösung:</strong> Hybrid-Storage</p>
<pre><code class="language-cpp">struct BlobStorageConfig {
    int64_t inline_threshold_bytes = 1024 * 1024; // 1 MB
    std::string external_storage_path = &quot;./data/blobs/&quot;;
};

// In ContentManager::ingestContent()
if (blob.size() &lt; config.inline_threshold_bytes) {
    // Store inline in RocksDB
    entity.setBlob(blob);
} else {
    // Store externally (filesystem or S3)
    std::string blob_path = external_storage_path + content_id + &quot;.blob&quot;;
    writeToFile(blob_path, blob);
    entity.set(&quot;blob_ref&quot;, blob_path);
}
</code></pre>
<h3 id="72-embedding-batch-processing">7.2 Embedding-Batch-Processing<a class="headerlink" href="#72-embedding-batch-processing" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Sequentielle Embedding-Generierung ist langsam.</p>
<p><strong>Lösung:</strong> Batch-API</p>
<pre><code class="language-cpp">std::vector&lt;std::vector&lt;float&gt;&gt; generateEmbeddingsBatch(const std::vector&lt;std::string&gt;&amp; texts) {
    json request = {{&quot;texts&quot;, texts}};
    auto response = http_client_-&gt;post(&quot;http://localhost:5000/embed/batch&quot;, request);
    return response[&quot;embeddings&quot;];
}
</code></pre>
<h3 id="73-async-ingestion">7.3 Async-Ingestion<a class="headerlink" href="#73-async-ingestion" title="Permanent link">&para;</a></h3>
<p><strong>Problem:</strong> Große Dateien blockieren HTTP-Response.</p>
<p><strong>Lösung:</strong> Job-Queue</p>
<pre><code class="language-cpp">IngestionResult ContentManager::ingestContentAsync(/*...*/) {
    std::string job_id = generateUuid();

    // Queue job
    job_queue_-&gt;enqueue({
        .job_id = job_id,
        .blob = blob,
        .mime_type = mime_type,
        // ...
    });

    return {.ok=true, .content_id=job_id, .message=&quot;Queued for processing&quot;};
}

// Background worker
void processJobs() {
    while (true) {
        auto job = job_queue_-&gt;dequeue();
        auto result = ingestContent(job.blob, job.mime_type, /*...*/);
        updateJobStatus(job.job_id, result);
    }
}
</code></pre>
<h2 id="8-testing-strategie">8. Testing-Strategie<a class="headerlink" href="#8-testing-strategie" title="Permanent link">&para;</a></h2>
<h3 id="81-unit-tests-pro-processor">8.1 Unit Tests (pro Processor)<a class="headerlink" href="#81-unit-tests-pro-processor" title="Permanent link">&para;</a></h3>
<pre><code class="language-cpp">TEST(TextProcessorTest, ExtractsTextFromPlainText) {
    TextProcessor processor;
    std::string blob = &quot;Hello, world!&quot;;
    ContentType type = {.mime_type=&quot;text/plain&quot;, .category=ContentCategory::TEXT};

    auto result = processor.extract(blob, type);

    ASSERT_TRUE(result.ok);
    EXPECT_EQ(result.text, &quot;Hello, world!&quot;);
}

TEST(TextProcessorTest, ChunksTextWithOverlap) {
    TextProcessor processor;
    ExtractionResult extraction;
    extraction.text = &quot;Lorem ipsum dolor sit amet...&quot;; // 1000 chars

    auto chunks = processor.chunk(extraction, 512, 50);

    ASSERT_GE(chunks.size(), 2);
    // Verify overlap
    std::string end_of_chunk1 = chunks[0][&quot;text&quot;].get&lt;std::string&gt;().substr(462, 50);
    std::string start_of_chunk2 = chunks[1][&quot;text&quot;].get&lt;std::string&gt;().substr(0, 50);
    EXPECT_EQ(end_of_chunk1, start_of_chunk2);
}
</code></pre>
<h3 id="82-integration-tests">8.2 Integration Tests<a class="headerlink" href="#82-integration-tests" title="Permanent link">&para;</a></h3>
<pre><code class="language-cpp">TEST(ContentManagerTest, IngestTextDocumentEndToEnd) {
    auto storage = std::make_shared&lt;RocksDBWrapper&gt;(&quot;./test_db&quot;);
    auto vector_index = std::make_shared&lt;VectorIndexManager&gt;(/*...*/);
    auto graph_index = std::make_shared&lt;GraphIndexManager&gt;(/*...*/);
    auto secondary_index = std::make_shared&lt;SecondaryIndexManager&gt;(/*...*/);

    ContentManager manager(storage, vector_index, graph_index, secondary_index);
    manager.registerProcessor(std::make_unique&lt;TextProcessor&gt;());

    std::string blob = &quot;This is a test document. It has multiple sentences.&quot;;
    auto result = manager.ingestContent(blob, &quot;text/plain&quot;, &quot;test.txt&quot;);

    ASSERT_TRUE(result.ok);
    EXPECT_GT(result.chunks_created, 0);

    // Verify metadata stored
    auto meta = manager.getContentMeta(result.content_id);
    ASSERT_TRUE(meta.has_value());
    EXPECT_EQ(meta-&gt;mime_type, &quot;text/plain&quot;);

    // Verify chunks stored
    auto chunks = manager.getContentChunks(result.content_id);
    EXPECT_EQ(chunks.size(), result.chunks_created);

    // Verify graph edges
    auto neighbors = graph_index-&gt;getOutNeighbors(&quot;chunk:&quot; + chunks[0].id);
    EXPECT_GT(neighbors.size(), 0); // Has 'next' edge
}
</code></pre>
<h3 id="83-performance-benchmarks">8.3 Performance Benchmarks<a class="headerlink" href="#83-performance-benchmarks" title="Permanent link">&para;</a></h3>
<pre><code class="language-cpp">BENCHMARK(BM_IngestLargeDocument) {
    std::string large_doc(10 * 1024 * 1024, 'A'); // 10 MB
    for (auto _ : state) {
        content_manager-&gt;ingestContent(large_doc, &quot;text/plain&quot;, &quot;large.txt&quot;);
    }
}

BENCHMARK(BM_SearchWithExpansion) {
    for (auto _ : state) {
        content_manager-&gt;searchWithExpansion(&quot;machine learning&quot;, 10, 1);
    }
}
</code></pre>
<h2 id="9-migration-plan">9. Migration-Plan<a class="headerlink" href="#9-migration-plan" title="Permanent link">&para;</a></h2>
<h3 id="phase-1-foundation-woche-1-2">Phase 1: Foundation (Woche 1-2)<a class="headerlink" href="#phase-1-foundation-woche-1-2" title="Permanent link">&para;</a></h3>
<ul>
<li>[ ] ContentType + ContentTypeRegistry implementieren</li>
<li>[ ] IContentProcessor Interface + BinaryProcessor (Fallback)</li>
<li>[ ] ContentManager Grundstruktur (ohne Processors)</li>
<li>[ ] Unit Tests für ContentTypeRegistry</li>
</ul>
<h3 id="phase-2-text-processor-woche-3">Phase 2: Text-Processor (Woche 3)<a class="headerlink" href="#phase-2-text-processor-woche-3" title="Permanent link">&para;</a></h3>
<ul>
<li>[ ] TextProcessor implementieren (extract, chunk, embedding mit Mock)</li>
<li>[ ] Integration in ContentManager</li>
<li>[ ] HTTP Endpoint: POST /content/upload (nur TEXT)</li>
<li>[ ] Integration Tests</li>
</ul>
<h3 id="phase-3-imagegeocad-processors-woche-4-5">Phase 3: Image/Geo/CAD-Processors (Woche 4-5)<a class="headerlink" href="#phase-3-imagegeocad-processors-woche-4-5" title="Permanent link">&para;</a></h3>
<ul>
<li>[ ] ImageProcessor (EXIF extraction, CLIP embedding via external service)</li>
<li>[ ] GeoProcessor (GeoJSON parsing)</li>
<li>[ ] CADProcessor (STEP parsing mit Open CASCADE)</li>
<li>[ ] HTTP Endpoints erweitern</li>
</ul>
<h3 id="phase-4-hybrid-queries-woche-6">Phase 4: Hybrid-Queries (Woche 6)<a class="headerlink" href="#phase-4-hybrid-queries-woche-6" title="Permanent link">&para;</a></h3>
<ul>
<li>[ ] AQL VECTOR_KNN() Function</li>
<li>[ ] Graph-Expansion in ContentManager::searchWithExpansion()</li>
<li>[ ] Benchmarks</li>
</ul>
<h3 id="phase-5-production-hardening-woche-7">Phase 5: Production-Hardening (Woche 7+)<a class="headerlink" href="#phase-5-production-hardening-woche-7" title="Permanent link">&para;</a></h3>
<ul>
<li>[ ] Async-Ingestion (Job-Queue)</li>
<li>[ ] External Blob-Storage (Filesystem/S3)</li>
<li>[ ] Monitoring/Metrics</li>
<li>[ ] Documentation</li>
</ul>
<h2 id="10-fazit">10. Fazit<a class="headerlink" href="#10-fazit" title="Permanent link">&para;</a></h2>
<p>Das Content Manager System bietet eine <strong>skalierbare, erweiterbare Architektur</strong> für heterogene Datentypen. Durch die Trennung von generischen Operationen (Hashing, Graph-Erstellung) und typ-spezifischer Verarbeitung (via Processors) bleibt das System wartbar und einfach erweiterbar.</p>
<p><strong>Key Benefits:</strong>
- <strong>Einheitliche API:</strong> Ein Upload-Endpoint für alle Datentypen
- <strong>Wiederverwendbare Komponenten:</strong> Chunking-Logik, Graph-Erstellung, Deduplication
- <strong>Typ-Sicherheit:</strong> ContentTypeRegistry verhindert falsche Verarbeitung
- <strong>Produktivität:</strong> Neue Datentypen in &lt; 1 Tag integrierbar (nur Processor implementieren)
- <strong>RAG-Ready:</strong> Graph-Expansion für kontextuelle Suche out-of-the-box</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.instant", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "In Zwischenablage kopiert", "clipboard.copy": "In Zwischenablage kopieren", "search.result.more.one": "1 weiteres Suchergebnis auf dieser Seite", "search.result.more.other": "# weitere Suchergebnisse auf dieser Seite", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse", "search.result.placeholder": "Suchbegriff eingeben", "search.result.term.missing": "Es fehlt", "select.version": "Version ausw\u00e4hlen"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
  </body>
</html>